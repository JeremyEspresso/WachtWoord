@page "/"


<p> Hello World! </p>
<a href="newentry">New Entry</a>
<ul>
    @display_all_entries()
</ul>

@code {
    private List<Entry> entries = new List<Entry>();
    private Entry entry = new Entry();

    protected override void OnInitialized()
    {
        entries = GetEntries();
    }

    private List<Entry> GetEntries()
    {
        return new List<Entry>
        {
            new Entry { Id = 1, Password = "A", Username = "B"},
            new Entry { Id = 2, Password = "C", Username = "B"},
            new Entry { Id = 3, Password = "D", Username = "B"},
        };
    }

    private MarkupString display_all_entries()
    {
        var sb = new StringBuilder();
        foreach (var entry in entries)
        {
            sb.Append($"<li><a href=\"entry/{entry.Id}\">{entry.Username}</a></li>");
        }
        return new MarkupString(sb.ToString());
    }
}